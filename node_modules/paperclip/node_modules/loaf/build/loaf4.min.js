(function e$$0(g,h,f){function d(b,l){if(!h[b]){if(!g[b]){var k="function"==typeof require&&require;if(!l&&k)return k(b,!0);if(a)return a(b,!0);throw Error("Cannot find module '"+b+"'");}k=h[b]={exports:{}};g[b][0].call(k.exports,function(a){var f=g[b][1][a];return d(f?f:a)},k,k.exports,e$$0,g,h,f)}return h[b].exports}for(var a="function"==typeof require&&require,b=0;b<f.length;b++)d(f[b]);return d})({1:[function(e,g,h){g.exports=window.loaf=e("./index")},{"./index":2}],2:[function(e,g,h){h=e("protoclass");
var f=e("nofactor"),d=function(a){this.nodeFactory=a=a||f["default"];this.start=a.createTextNode("");this.end=a.createTextNode("");this.visible=!0;a=a.createElement("div");a.appendChild(this.start);a.appendChild(this.end)},d=h(d,{__isLoafSection:!0,replace:function(a){a.parentNode.insertBefore(this.toFragment(),a);a.parentNode.removeChild(a)},show:function(){if(!this._detached)return this;this.append.apply(this,this._detached.getInnerChildNodes());this._detached=void 0;this.visible=!0;return this},
hide:function(){this._detached=this.removeAll();this.visible=!1;return this},removeAll:function(){return this._section(this._removeAll())},_removeAll:function(){for(var a=this.end,b=this.start.nextSibling,d=[];b!=a;)b.parentNode.removeChild(b),d.push(b),b=this.start.nextSibling;return d},append:function(){this._insertAfter(Array.prototype.slice.call(arguments,0),this.end.previousSibling)},prepend:function(){this._insertAfter(Array.prototype.slice.call(arguments,0),this.start)},replaceChildNodes:function(){this.removeAll();
this.append.apply(this,arguments)},toString:function(){return this.getChildNodes().map(function(a){return a.innerHTML||a.nodeValue||String(a)}).join("")},toFragment:function(){return this.nodeFactory.createFragment(this.getChildNodes())},dispose:function(){this._disposed||(this._disposed=!0,this._removeAll(),this.start.parentNode.removeChild(this.start),this.end.parentNode.removeChild(this.end))},getChildNodes:function(){for(var a=this.start,b=this.end.nextSibling,d=[];a!=b;)d.push(a),a=a.nextSibling;
return d},getInnerChildNodes:function(){var a=this.getChildNodes();a.shift();a.pop();return a},_insertAfter:function(a,b){if(a.length)return a=a.map(function(a){return a.__isLoafSection?a.toFragment():a}),a=1<a.length?this.nodeFactory.createFragment(a):a[0],b.parentNode.insertBefore(a,b.nextSibling)},_section:function(a){var b=new d(this.nodeFactory);b.append.apply(b,a);return b}});g.exports=function(a){return new d(a)}},{nofactor:6,protoclass:8}],3:[function(e,g,h){function f(){}e("protoclass")(f,
{createElement:function(d){},createFragment:function(){},createComment:function(d){},createTextNode:function(d){},parseHtml:function(d){}});g.exports=f},{protoclass:8}],4:[function(e,g,h){function f(){}e("./base").extend(f,{name:"dom",createElement:function(d){return document.createElement(d)},createTextNode:function(d){return document.createTextNode(d)},createFragment:function(d){d||(d=[]);for(var a=document.createDocumentFragment(),b=[],e=0,f=d.length;e<f;e++)b.push(d[e]);d=0;for(e=b.length;d<e;d++)a.appendChild(b[d]);
return a}});g.exports=new f},{"./base":3}],5:[function(e,g,h){var f={"<":"lt","&":"amp",">":"gt",'"':"quote"};g.exports=function(d){d=String(d);return d.split("").map(function(a){var b=f[a],d=a.charCodeAt(0);return b?"&"+b+";":!a.match(/\s/)&&(32>d||126<d)?"&#"+d+";":a}).join("")}},{}],6:[function(e,g,h){g.exports={string:e("./string"),dom:e("./dom")};g.exports["default"]="undefined"!==typeof window?g.exports.dom:g.exports.string},{"./dom":4,"./string":7}],7:[function(e,g,h){function f(){}function d(){this.childNodes=
[]}function a(){}function b(c){b.superclass.call(this);this.nodeName=c.toUpperCase();this._name=c.toLowerCase();this.attributes=[];this._attrsByKey={};this.style=new a}function m(c,a){a&&(c=p(c));this.value=c}function l(){l.superclass.apply(this,arguments)}function k(){k.superclass.call(this)}function n(c){this.context=c}var p=e("./ent");h=e("./base");e=e("protoclass");e(f,{__isNode:!0});e(f,d,{appendChild:function(c){if(11===c.nodeType)for(;c.childNodes.length;)this.appendChild(c.childNodes[0]);
else this._unlink(c),this.childNodes.push(c),this._link(c)},prependChild:function(c){this.childNodes.length?this.insertBefore(c,this.childNodes[0]):this.appendChild(c)},removeChild:function(c){var a=this.childNodes.indexOf(c);~a&&(this.childNodes.splice(a,1),c.previousSibling&&(c.previousSibling.nextSibling=c.nextSibling),c.nextSibling&&(c.nextSibling.previousSibling=c.previousSibling),delete c.parentNode,delete c.nextSibling,delete c.previousSibling)},insertBefore:function(c,a){if(11===c.nodeType)for(var b,
d=c.childNodes.length;d--;)this.insertBefore(b=c.childNodes[d],a),a=b;this._splice(this.childNodes.indexOf(a),0,c)},_splice:function(c,a,b){"undefined"===typeof c&&(c=-1);~c&&(b&&this._unlink(b),this.childNodes.splice.apply(this.childNodes,arguments),b&&this._link(b))},_unlink:function(c){c.parentNode&&c.parentNode.removeChild(c)},_link:function(c){if(!c.__isNode)throw Error("cannot append non-node");c.parentNode=this;var a=this.childNodes.indexOf(c);0!==a&&(c.previousSibling=this.childNodes[a-1]);
a!=this.childNodes.length-1&&(c.nextSibling=this.childNodes[a+1]);c.previousSibling&&(c.previousSibling.nextSibling=c);c.nextSibling&&(c.nextSibling.previousSibling=c)}});e(a,{_hasStyle:!1,setProperty:function(c,a){""===a||void 0==a?delete this[c]:this[c]=a},parse:function(c){c=c.split(/;\s*/);for(var a=c.length;a--;){var b=c[a].split(/:\s*/);void 0!=b[a]&&""!=b[1]&&(this[b[0]]=b[1])}},toString:function(){var c=[],a;for(a in this)void 0===this.constructor.prototype[a]&&""!==this[a]&&c.push(a+": "+
this[a]);return c.length?c.join("; ")+";":""},hasStyles:function(){if(this._hasStyle)return!0;for(var c in this)if(void 0!=this[c]&&void 0==this.constructor.prototype[c])return this._hasStyle=!0;return!1}});e(d,b,{nodeType:3,setAttribute:function(c,a){c=c.toLowerCase();if("style"===c)return this.style.parse(a);if(void 0==a)return this.removeAttribute(c);var b;(b=this._attrsByKey[c])||this.attributes.push(b=this._attrsByKey[c]={});b.name=c;b.value=a},removeAttribute:function(a){for(var b=this.attributes.length;b--;)if(this.attributes[b].name==
a){this.attributes.splice(b,1);break}delete this._attrsByKey[a]},getAttribute:function(a){if(a=this._attrsByKey[a])return a.value},toString:function(){var a=["<",this._name],b=[],d,e;for(e in this._attrsByKey){var f=this._attrsByKey[e].value;d=e;void 0!=e&&(d+='="'+f+'"');b.push(d)}this.style.hasStyles()&&b.push('style="'+this.style.toString()+'"');b.length&&a.push(" ",b.join(" "));a.push(">");a.push.apply(a,this.childNodes);a.push("</",this._name,">");return a.join("")}});e(f,m,{nodeType:3,toString:function(){return this.value}});
e(m,l,{nodeType:8,toString:function(){return"\x3c!--"+l.__super__.toString.call(this)+"--\x3e"}});e(d,k,{nodeType:11,toString:function(){return this.childNodes.join("")}});e(h,n,{name:"string",createElement:function(a){return new b(a)},createTextNode:function(a,b){return new m(a,b)},createComment:function(a){return new l(a)},createFragment:function(a){a||(a=[]);var b=new k;a=Array.prototype.slice.call(a,0);for(var d=0,e=a.length;d<e;d++)b.appendChild(a[d]);return b},parseHtml:function(a){return this.createTextNode(a)}});
g.exports=new n},{"./base":3,"./ent":5,protoclass:8}],8:[function(e,g,h){function f(a,b){for(var d=0,e=b.length;d<e;d++){var f=b[d],g;for(g in f)a[g]=f[g]}return a}function d(a,b){var e=Array.prototype.slice.call(arguments,2);"function"!==typeof b?(b&&e.unshift(b),b=a,a=void 0):e.unshift(a.prototype);f(b.prototype,e);a&&(f(b,a),b.__super__=a.prototype,b.superclass=a);b.extend||(b.extend=function(a){return d.apply(this,[this].concat(Array.prototype.slice.call(arguments,0)))},b.mixin=function(a){f(this.prototype,
arguments)});return b}g.exports=d},{}]},{},[1]);
